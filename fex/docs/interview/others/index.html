<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/fex/blog/rss.xml" title="FEX Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/fex/blog/atom.xml" title="FEX Blog Atom Feed"><title data-react-helmet="true">其他 | FEX</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="其他 | FEX"><meta data-react-helmet="true" name="description" content="谈一谈浏览器的缓存机制？"><meta data-react-helmet="true" property="og:description" content="谈一谈浏览器的缓存机制？"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/fex/docs/interview/others"><link data-react-helmet="true" rel="shortcut icon" href="/fex/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/fex/docs/interview/others"><link rel="stylesheet" href="/fex/styles.1cdc928b.css">
<link rel="preload" href="/fex/styles.ffb24f24.js" as="script">
<link rel="preload" href="/fex/runtime~main.8eec90ca.js" as="script">
<link rel="preload" href="/fex/main.d2410b1b.js" as="script">
<link rel="preload" href="/fex/1.59af2fa2.js" as="script">
<link rel="preload" href="/fex/2.8c48b619.js" as="script">
<link rel="preload" href="/fex/85.dafc7ca9.js" as="script">
<link rel="preload" href="/fex/86.4d0dbeda.js" as="script">
<link rel="preload" href="/fex/935f2afb.65d2679f.js" as="script">
<link rel="preload" href="/fex/17896441.f11c0cb6.js" as="script">
<link rel="preload" href="/fex/49d485d0.5c441db7.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/fex/"><img src="/fex/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/fex/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">FEX</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/fex/docs/advanced">前端进阶</a><a class="navbar__item navbar__link" href="/fex/docs/engineering">工程化</a><a class="navbar__item navbar__link" href="/fex/docs/performance">性能优化</a><a href="https://github.com/oxyzhg/fex" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/fex/"><img src="/fex/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/fex/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">FEX</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/fex/docs/advanced">前端进阶</a></li><li class="menu__list-item"><a class="menu__link" href="/fex/docs/engineering">工程化</a></li><li class="menu__list-item"><a class="menu__link" href="/fex/docs/performance">性能优化</a></li><li class="menu__list-item"><a href="https://github.com/oxyzhg/fex" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/fex/docs/interview/javascript">JavaScript 相关题目总结</a></li><li class="menu__list-item"><a class="menu__link" href="/fex/docs/interview/html">HTML 相关问题</a></li><li class="menu__list-item"><a class="menu__link" href="/fex/docs/interview/css">CSS 相关题目总结</a></li><li class="menu__list-item"><a class="menu__link" href="/fex/docs/interview/vue">Vue 相关题目总结</a></li><li class="menu__list-item"><a class="menu__link" href="/fex/docs/interview/webpack">Webpack 相关题目总结</a></li><li class="menu__list-item"><a class="menu__link" href="/fex/docs/interview/browser">浏览器相关题目总结</a></li><li class="menu__list-item"><a class="menu__link" href="/fex/docs/interview/network">计算机网络相关题目总结</a></li><li class="menu__list-item"><a class="menu__link" href="/fex/docs/interview/performance">性能优化</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/fex/docs/interview/others">其他</a></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">其他</h1></header><div class="markdown"><div class="tableOfContentsInline_1-ng"><ul class="table-of-contents"><li><a href="#谈一谈浏览器的缓存机制？" class="table-of-contents__link--inline_2dTS">谈一谈浏览器的缓存机制？</a></li><li><a href="#什么是浏览器的同源政策？" class="table-of-contents__link--inline_2dTS">什么是浏览器的同源政策？</a></li></ul></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="谈一谈浏览器的缓存机制？"></a>谈一谈浏览器的缓存机制？<a class="hash-link" href="#谈一谈浏览器的缓存机制？" title="Direct link to heading">#</a></h3><p>浏览器的缓存机制指的是通过在一段时间内保留已接收到的 web 资源的一个副本，如果在资源的有效时间内，发起了对这个资源的再一次请求，那么浏览器会直接使用缓存的副本，而不是向服务器发起请求。使用 web 缓存可以有效地提高页面的打开速度，减少不必要的网络带宽的消耗。web 资源的缓存策略一般由服务器来指定，可以分为两种，分别是<strong>强缓存</strong>策略和<strong>协商缓存</strong>策略。</p><p>使用强缓存策略时，如果命中缓存规则，则直接使用缓存资源，不必再向服务器发起请求。强缓存策略可以通过两种方式来设置，分别是 http 头信息中的 <code>Expires</code> 和 <code>Cache-Control</code> 属性。服务器通过在响应头中添加 <code>Expires</code>(HTTP/1.0) 属性，来指定资源的过期时间。在过期时间以内，该资源可以被缓存使用，不必再向服务器发送请求。这个时间是一个绝对时间，它是服务器的时间，因此可能存在这样的问题，就是客户端的时间和服务器端的时间不一致，或者用户可以对客户端时间进行修改的情况，这样就可能会影响缓存命中的结果。另一个方式是设置 <code>Cache-Control</code>(HTTP/1.1) 属性，它提供了对资源的缓存的更精确的控制。一般来说只需要设置其中一种方式就可以实现强缓存策略，当两种方式一起使用时，<code>Cache-Control</code> 的优先级要高于 <code>Expires</code>。</p><p>使用协商缓存策略时，会先向服务器发送一个请求，如果资源没有发生修改，则返回一个 304 状态，让浏览器使用本地的缓存副本，如果资源发生了修改，则返回修改后的资源。协商缓存也可以通过两种方式来设置，分别是 http 头信息中的 <code>Last-Modified</code> 和 <code>Etag</code> 属性。服务器通过在响应头中添加 <code>Last-Modified</code>(HTTP/1.0) 属性来指出资源最后一次修改的时间，当浏览器下一次发起请求时，会在请求头中添加一个 <code>If-Modified-Since</code> 的属性，属性值为上一次资源返回时的 <code>Last-Modified</code> 的值。服务器会通过这个属性来和资源的最后一次的修改时间来进行比较，以此来判断资源是否做了修改。如果资源没有修改，那么返回 304 状态，让客户端使用本地的缓存。如果资源已经被修改了，则返回修改后的资源。使用这种方法有一个缺点，就是 <code>Last-Modified</code> 标注的最后修改时间只能精确到秒级，如果某些文件在 1 秒钟以内，被修改多次的话，那么文件已将改变了但是 <code>Last-Modified</code> 却没有改变，这样会造成缓存命中的不准确。另一个方式是设置 <code>Etag</code> 属性，它是资源生成的唯一标识符，当资源发生改变的时候，这个值也会发生改变。在下一次资源请求时，浏览器会在请求头中添加一个 <code>If-None-Match</code> 属性，这个属性的值就是上次返回的资源的 <code>Etag</code> 的值。服务接收到请求后会根据这个值来和资源当前的 <code>Etag</code> 的值来进行比较，以此来判断资源是否发生改变，是否需要返回资源。通过这种方式，比 <code>Last-Modified</code> 的方式更加精确。当 <code>Last-Modified</code> 和 <code>Etag</code> 属性同时出现的时候，<code>Etag</code> 的优先级更高。</p><p>强缓存策略和协商缓存策略在缓存命中时都会直接使用本地的缓存副本，区别只在于协商缓存会向服务器发送一次请求。它们缓存不命中时，都会向服务器发送请求来获取资源。在实际的缓存机制中，强缓存策略和协商缓存策略是一起合作使用的。浏览器首先会根据请求的信息判断，强缓存是否命中，如果命中则直接使用资源。如果不命中则根据头信息向服务器发起请求，使用协商缓存，如果协商缓存命中的话，则服务器不返回资源，浏览器直接使用本地资源的副本，如果协商缓存不命中，则浏览器返回最新的资源给浏览器。</p><p>详细资料可以参考：</p><ul><li><a href="https://juejin.cn/post/6844903672556552205" target="_blank" rel="noopener noreferrer">前端优化：浏览器缓存技术介绍</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="什么是浏览器的同源政策？"></a>什么是浏览器的同源政策？<a class="hash-link" href="#什么是浏览器的同源政策？" title="Direct link to heading">#</a></h3><p>同源策略是值，一个域下的 js 脚本在未经允许的情况下，不能访问另一个域的资源。这里的同源指的是<strong>协议、域名、端口号</strong>都必须相同。</p><p>同源策略主要限制了三方面：不能跨域访问 cookie/localStorage/indexDB 数据，不能跨域访问 DOM，不能跨域发起请求。</p><p>跨域解决方案有以下几种：</p><ol><li>JSONP</li><li>CORS</li><li>postMessage</li><li>WebSocket</li><li>Node 中间件代理</li><li>Nginx 反向代理</li><li>window.name+iframe</li><li>document.domain+iframe</li><li>location.hash+iframe</li></ol><p>详细资料可以参考：</p><ul><li><a href="https://segmentfault.com/a/1190000011145364" target="_blank" rel="noopener noreferrer">前端常见跨域解决方案（全）</a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/oxyzhg/fex/edit/main/docs/interview/others.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/fex/docs/interview/performance"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 性能优化</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#谈一谈浏览器的缓存机制？" class="table-of-contents__link">谈一谈浏览器的缓存机制？</a></li><li><a href="#什么是浏览器的同源政策？" class="table-of-contents__link">什么是浏览器的同源政策？</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/fex/docs/advanced">前端进阶</a></li><li class="footer__item"><a class="footer__link-item" href="/fex/docs/engineering">前端工程化</a></li><li class="footer__item"><a class="footer__link-item" href="/fex/docs/algorithms">数据结构与算法</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://juejin.cn/user/571401775099528" target="_blank" rel="noopener noreferrer" class="footer__link-item">掘金</a></li><li class="footer__item"><a href="https://www.yuque.com/oxyzhg" target="_blank" rel="noopener noreferrer" class="footer__link-item">语雀</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/oxyzhg" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2021 Oxyzhg</div></div></div></footer></div>
<script src="/fex/styles.ffb24f24.js"></script>
<script src="/fex/runtime~main.8eec90ca.js"></script>
<script src="/fex/main.d2410b1b.js"></script>
<script src="/fex/1.59af2fa2.js"></script>
<script src="/fex/2.8c48b619.js"></script>
<script src="/fex/85.dafc7ca9.js"></script>
<script src="/fex/86.4d0dbeda.js"></script>
<script src="/fex/935f2afb.65d2679f.js"></script>
<script src="/fex/17896441.f11c0cb6.js"></script>
<script src="/fex/49d485d0.5c441db7.js"></script>
</body>
</html>